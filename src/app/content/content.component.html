<div class="contentWrapper" *ngIf="appState && videoList">

    <!-- Toolbar -->
    <div class="contentToolbar">

        <div class="loader" *ngIf="appState.loader">
            <app-loader></app-loader>
        </div>

        <div class="notFoundMsg" *ngIf="appState.notFound && !appState.loader">
            <div>Not found...</div>
        </div>

        <div class="toolbarControl" *ngIf="!appState.notFound && !appState.loader"
            [class.borderToolBar]="videoList.length > 0">
            <mat-checkbox class="masterSelect" *ngIf="videoList.length > 1"
                (change)="onSelectAll($event)"
                [checked]="allSelected"
                [indeterminate]="interSelected"
                [disabled]="(finishedCount === videoList.length) || appState.downloadStarted"
                [color]="'primary'">
            </mat-checkbox>

            <div class="counter" *ngIf="videoList.length > 0">
                <span *ngIf="videoList.length > 1">{{ selectedCount }}/</span>
                <span>{{ videoList.length }} </span>
                <span> Track</span>
                <span *ngIf="videoList.length > 1">s</span>
            </div>

            <div class="flexSpacer" *ngIf="videoList.length > 0"></div>

            <button class="control"
                mat-button
                *ngIf="(videoList.length > 0) && !appState.downloadStarted"
                [class.anim]="selectedCount > 0"
                [disabled]="selectedCount === 0"
                [class.controlDisabled]="selectedCount === 0"
                (click)="startDownload()">
                <mat-icon class="controlIcon" svgIcon="cloud-download"></mat-icon>
                <span class="controlText">Download</span>
            </button>

            <button class="control"
                mat-button
                *ngIf="appState.downloadStarted"
                [class.anim]="selectedCount > 0"
                [class.controlDisabled]="selectedCount === 0"
                (click)="cancelDownload()">
                <mat-icon class="controlIcon" svgIcon="close-octagon-outline"></mat-icon>
                <span class="controlText">Cancel</span>
            </button>
        </div>
    </div>

    <!-- Video List -->
    <div class="contentBox">
        <app-video-list-item
            *ngFor="let video of videoList; let i = index; let even = even; let odd = odd; trackBy: trackByFn"
            [video]="video"
            (videoChange)="updateSelection()"
            [disableSelection]="appState.downloadStarted"
            [oddEvenClass]="odd ? 'odd': 'even'">
        </app-video-list-item>
    </div>
</div>
